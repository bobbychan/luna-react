.luna-dialog {
  display: grid;
  position: fixed;
  z-index: 999;
  opacity: 0;
  overflow-y: hidden;
  width: 100%;
  max-width: none;
  height: 100%;
  max-height: none;
  margin: 0;
  padding: 0;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 0.2s;
  transition-property: transform, opacity, visibility;
  background-color: transparent;
  color: inherit;
  pointer-events: none;
  inset: 0;
  justify-items: center;
  overscroll-behavior: contain;

  &:not(dialog:not(.luna-dialog-open)),
  &::backdrop {
    animation: dialog-pop 0.2s ease-out;
    background-color: rgba(0, 0, 0, 0.3);
  }
}

.luna-dialog-overlay {
  display: grid;
  align-self: stretch;
  grid-row-start: 1;
  grid-column-start: 1;
  z-index: -1;
  color: transparent;
  justify-self: stretch;
}

:where(.luna-dialog) {
  align-items: center;
}

.luna-dialog-box {
  display: flex;
  flex-direction: column;
  grid-row-start: 1;
  grid-column-start: 1;
  transform: scale(0.9);
  width: 91.666667%;
  max-width: var(--size-lg);
  max-height: calc(100vh - 5em);
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 0.2s;
  transition-property: color, background-color, border-color,
    text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter,
    backdrop-filter, -webkit-backdrop-filter;
  background-color: hsl(var(--color-base-100));
  border-radius: var(--rounded-box, 1rem);
  box-shadow: #00000040 0 25px 50px -12px;
  overscroll-behavior: contain;

  &.luna-dialog-box-sm {
    max-width: var(--size-sm);
  }
  &.luna-dialog-box-md {
    max-width: var(--size-md);
  }
  &.luna-dialog-box-lg {
    max-width: var(--size-lg);
  }
  &.luna-dialog-box-xl {
    max-width: var(--size-xl);
  }
  &.luna-dialog-box-2xl {
    max-width: var(--size-2xl);
  }
  &.luna-dialog-box-3xl {
    max-width: var(--size-3xl);
  }
  &.luna-dialog-box-4xl {
    max-width: var(--size-4xl);
  }
  &.luna-dialog-box-5xl {
    max-width: var(--size-5xl);
  }
  &.luna-dialog-box-6xl {
    max-width: var(--size-6xl);
  }
  &.luna-dialog-box-7xl {
    max-width: var(--size-7xl);
  }
}

.luna-dialog-open,
.luna-dialog:target,
.luna-dialog[open] {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
}

:root:has(:is(.luna-dialog-open, .luna-dialog:target, .luna-dialog[open])) {
  overflow: hidden;
}

.luna-dialog-open .luna-dialog-box,
.luna-dialog:target .luna-dialog-box,
.luna-dialog[open] .luna-dialog-box {
  transform: scale(1);
}

.luna-dialog-header {
  padding: 1.25rem;
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

.luna-dialog-body {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

.luna-dialog-footer {
  display: flex;
  justify-content: flex-end;
  padding: 1.5rem;
}

.luna-dialog-footer > :not([hidden]) ~ :not([hidden]) {
  margin-left: 0.5rem;
}

.luna-dialog-close-icon {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
}

@keyframes dialog-pop {
  0% {
    opacity: 0;
  }
}
